# Lab Manage Network Configuration
---

✅ **Task 1:** 
Create a connection that uses a static network configuration by using the information from the following table.

| Parameter        | Setting                                                       |
|------------------|---------------------------------------------------------------|
| Connection name  | custom-profile                                                |
| Interface name   | Use the interface with the `52:54:00:00:fa:0b` MAC address.   |
| IP address       | 172.25.250.11/24                                              |
| Gateway address  | 172.25.250.254                                                |
| DNS address      | 172.25.250.254                                                |

**Important**

    The name of the network interface that is associated with the provided MAC address might vary according to the course platform and hardware in use. This activity uses the ens3 interface name.

    Locate the default connection name for the classroom (such as System-ens3) that is associated with the MAC address provided in the table. Use this connection name to replace the System-ens3 placeholder throughout this exercise if different.

```bash
ssh student@serverb
sudo -i

ip link | grep 52:54:00:00:fa:0b -B 1

nmcli con show
nmcli -f connection.interface-name,ipv4.addresses,ipv4.method,ipv4.dns,ipv4.gateway con show System-ens3

nmcli connection modify System-ens3 con-name custom-profile \
ifname ens3 type ethernet \
ipv4.method manual \
ipv4.addresses 172.25.250.11/24 \
ipv4.dns 172.25.250.254 \
ipv4.gateway 172.25.250.254 

nmcli -f connection.interface-name,ipv4.addresses,ipv4.method,ipv4.dns,ipv4.gateway con show custom-profile
nmcli dev status
```

---
✅ **Task 2:** 

Configure the custom-profile connection to start automatically. For all other Ethernet connections, turn off the autoconnection setting.

```bash
nmcli -f  connection.aut connection show custom-profile
nmcli con mod custom-profile connection.autoconnect yes

nmcli connection modify lo connection.autoconnect no
nmcli -f connection.autoconnect connection show lo

nmcli connection modify Wired\ connection\ 1 connection.autoconnect no
nmcli -f connection.autoconnect connection show Wired\ connection\ 1 
```

---
✅ **Task 3:** 

Add the 172.25.250.150/24 IP address as a secondary address to the custom-profile connection. Verify that the new configuration is applied to the connection.

```bash
nmcli connection modify custom-profile +ipv4.addresses 172.25.250.150/24
nmcli -f ipv4.addresses connection show custom-profile
```

---
✅ **Task 4:**

Reboot the serverb machine.

```bash
systemctl reboot
```

---
✅ **Task 5:**

On the workstation machine, verify that the serverb machine is initialized and that it receives ICMP packages. The serverb machine should start after a minute or so.


```bash
ping -c3 serverb
```

---
✅ **Task 6**

On the workstation machine as the root user, add an entry to the `/etc/hosts` file that maps the 172.25.250.150 IP address to the serverb-secondary name. The secondary IP address of the serverb machine must be resolved by that name from the workstation machine.

```bash
sudo -i
sed -i '$ a 172.25.250.150 serverb-secondary' /etc/hosts
# echo "172.25.250.150 serverb-secondary" >> /etc/hosts
cat /etc/hosts
exit

ping -c3 serverb-secondary
```



