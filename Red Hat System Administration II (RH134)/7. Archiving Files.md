# Managing Compressed Tar Archives
---

## Create Archives from the Command Line

An archive is a single regular file or device file that contains multiple files. The device file could be a tape drive, flash drive, or other removable media. When using a regular file, archiving is analogous to the zip utility and similar variations that are popular on most operating systems.

Archive files are used to create manageable personal backups, or to simplify transferring a set of files across a network when other methods, such as the `rsync` utility, are unavailable or might be more complex. Archive files can be created with or without using compression to reduce the archive file size.

<div style="border: 1px solid #aaa; border-radius: 6px; padding: 12px; background: #020202ff;">
<b>Note:</b><br><br>
The original, ubiquitous zip compression and file packaging utility uses the PKZIP (Phil Katz's ZIP for MS-DOS systems) algorithm, and is supported on RHEL with the zip and unzip commands. Many other compression algorithms have been developed since zip was introduced, and each one has its advantages in speed or compression ratio. For creating compressed archives for general use, any tar-supported compression algorithm is acceptable.<br><br>
</div>

On Linux, the `tar` utility is the common command to create, manage, and extract archives. Use the `tar` command to gather multiple files into a single archive file. A tar archive is a structured sequence of file metadata and data with an index so you can extract individual files.

Files can be compressed during creation by using one of the supported compression algorithms. The `tar` command can list the contents of an archive without extracting, and can extract original files directly from both compressed and uncompressed archives.

### Options of the Tar Utility

One of the following tar command actions is required to perform a tar operation

- `-c` or --create : Create an archive file.
- `-t` or --list : List the contents of an archive.
- `-x` or --extract : Extract an archive.

The following `tar` command general options are often included:

- `-v` or --verbose : Show the files that are being archived or extracted during the tar operation.
- `-f` or --file : Follow this option with the archive file name to create or open.
- `-p` or --preserve-permissions : Preserve the original file permissions when extracting.
- `--xattrs` : Enable extended attribute support, and store extended file attributes.
- `--selinux` : Enable SELinux context support, and store SELinux file contexts.

The following tar command compression options are used to select an algorithm:

- `-a` or --auto-compress : Use the archive's suffix to determine the algorithm to use.
- `-z` or --gzip : Use the gzip compression algorithm, which results in a .tar.gz suffix.
- `-j` or --bzip2 : Use the bzip2 compression algorithm, which results in a .tar.bz2 suffix.
- `-J` or --xz : Use the xz compression algorithm, which results in a .tar.xz suffix.

<div style="border: 1px solid #aaa; border-radius: 6px; padding: 12px; background: #020202ff;">
<b>Note:</b><br><br>
The tar command still supports the legacy option style that does not use a dash (-) character. You might find this syntax in legacy scripts or documentation, and the behavior is essentially the same. For command consistency, Red Hat recommends using the short- or long-option styles instead..<br><br>
</div>

# Create an Archive

To create an archive with the `tar` command, use the `-c` and `-f` options with the archive file name as the first argument, followed by a list of files and directories to include in the archive.

The `tar` command recognizes absolute and relative file name syntax. By default, `tar` removes the leading forward slash (/) character from absolute file names, so that files are stored internally with relative path names. This technique is safer, because extracting absolute path names always overwrites existing files. With files that are archived with relative path names, files can be extracted to a new directory without overwriting existing files.

The following command creates the mybackup.tar archive to contain the myapp1.log, myapp2.log, and myapp3.log files from the user's home directory. If a file with the same name as the requested archive exists in the target directory, then the tar command overwrites the file.

```bash
tar -cf mybackup.tar myapp1.log myapp2.log myapp3.log
```

A user must have read permission on the target files that are being archived. For example, creating an archive in the `/etc` directory requires root privileges, because only privileged users can read all `/etc` files. An unprivileged user can create an archive of the `/etc` directory, but the archive excludes files that the user cannot read, and excludes directories for which the user lacks the read and execute permissions.

In this example, the root user creates the `/root/etc-backup.tar` archive of the `/etc` directory.

```bash
tar -cf /root/etc-backup.tar /etc
```
