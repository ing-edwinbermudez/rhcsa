# Lab Manage Storage with Logical Volume Manager

✅ **Task 1:**

On the `serverb` machine, create the secondary `1024` MiB partition on the `/dev/sdb` disk. Register the partition with the kernel.

```bash
ssh student@serverb
sudo -i
lsblk --fs
parted /dev/sdb print
parted /dev/sdb mkpart secondary 1075MiB 2099MiB
parted /dev/sdb print

parted /dev/sdb set 2 lvm on
udevadm settle
```

✅ **Task 2:**

Initialize the secondary partition as a physical volume.

```bash
pvcreate /dev/sdb2
```

✅ **Task 3:**

Extend the `vg_01_serverb` volume group to use the secondary partition.

```bash
vgs
vgdisplay
vgextend vg_01_serverb /dev/sdb2
vgs
vgdisplay
```

✅ **Task 4:**

Extend the `lv_01_serverb` logical volume to 1024 MiB, and resize the XFS file system.

```bash
lvs
lvdisplay
lvextend /dev/vg_01_serverb/lv_01_serverb -L 1024M

df -h | grep -i "lv_01_serverb"
xfs_growfs /storage/data1/
```

✅ **Task 5:**

In the vg_01_serverb volume group, create the lv_02_serverb logical volume with 512 MiB. Add an XFS file system and mount it persistently on the /storage/data2 directory.

```bash
vgs
lvcreate -n lv_02_serverb  -L 512M vg_01_serverb
mkfs -t xfs /dev/vg_01_serverb/lv_02_serverb
mkdir /storage/data2
echo "/dev/vg_01_serverb/lv_02_serverb /storage/data2 xfs defaults 0 0" >> /etc/fstab
cat /etc/fstab
systemctl daemon-reload
mount /storage/data2
mount |grep data2
```


✅ **Task 6:**

Verify that the lv_01_serverb and lv_02_serverb LVs are mounted with the intended size.

```bash
df -h /storage/data1
df -h /storage/data2
lvdisplay /dev/vg_01_serverb/lv_01_serverb
lvdisplay /dev/vg_01_serverb/lv_02_serverb
```