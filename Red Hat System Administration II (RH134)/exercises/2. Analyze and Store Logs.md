# Lab: Analyze and Store Logs

```bash
ssh student@serverb
```

✅ **Task 1:**

Pretend that the serverb machine is relocated to Jamaica and that you must update to the `America/Jamaica` time zone. Elevate the privileges of the student user to run the `timedatectl` command to update the time zone. Use student as the password.

Verify that you correctly set the appropriate time zone.

```bash
sudo -i
tzselect
timedatectl set-timezone America/Jamaica
```

✅ **Task 2:**

View the recorded log events in the previous 30 minutes.

```bash
sudo -i
journalctl -S "-30min"
```

✅ **Task 3:**

As the `root` user, configure persistent journals with automatic rotation. Verify that the journal is persistent after rebooting.

```bash
sudo -i 
mkdir -p /var/log/journal
journalctl --flush
systemctl restart systemd-journald.service
systemctl reboot

ssh student@serverb
ls -l /var/log/journal
```

✅ **Task 4:**

Create the `/etc/rsyslog.d/auth-errors.conf` file. Configure the rsyslog service to write messages to the `/var/log/auth-errors` file. Use the authpriv facility with the alert priority in the configuration file.

Enter the `Logging test authpriv.alert` log message in the system log by using the authpriv facility with the alert priority. Use student as the password.

```bash
sudo -i
cat << EOF >> /etc/rsyslog.d/auth-errors.conf 
authpriv.alert /var/log/auth-errors
EOF

systemctl restart rsyslog
logger -p authpriv.alert "Logging test authpriv.alert"
tail /var/log/auth-errors
```






>>>>>>> 972aa1964f54583fe36794260ac1d8bf8fa3f3c0