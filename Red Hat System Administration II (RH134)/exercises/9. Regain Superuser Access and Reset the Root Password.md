# Regain Superuser Access and Reset the Root Password

1. The password for the root user on the servera machine must be redhat.

    Locate the `servera` machine console and try to log in as the `root` user. Use redhat as the password.

2. Reset the `root` user's password to redhat without using rescue media. First, reboot the servera machine, and interrupt the countdown in the boot-loader menu.

    1.  Locate the servera console, as appropriate for your classroom environment, and then open the console. 
    
        Send `Ctrl+Alt+Del` to your system by using the relevant button or menu entry.

    2.  When the boot-loader menu appears, press Esc to interrupt the countdown.

3. Edit the highlighted kernel boot-loader entry to stop the boot process just after the kernel mounts all the file systems, but before it passes control to the systemd unit.

    1.  Use the cursor keys to select the kernel entry.
    2.  Press `E` to edit the current entry.
    3.  Move the cursor to the line that starts with the `linux` text.
    4.  Remove any `console=` option from the line.

        **Important**

        If you do not remove the console= options from the GRUB2 entry for the rescue kernel, then the root prompt might start on the wrong console and you might not be able to access it.
    5.  Press `Ctrl+E` to move the cursor to the end of the line.
    6.  Append a space followed by the init=/bin/bash option to the end of the line.

        **Note**
        
        If the text in the console is difficult to see, then consider changing the resolution when editing the kernel line in the boot-loader entry.

        To change the console resolution, add either the video=640x480 or vga=ask parameter on the line that starts with the linux word, after the `rd.break` parameter. For most consoles, a resolution of 640x480 is enough. By using the vga=ask parameter, you can choose a more suitable resolution for your environment.
    7.  Press  `Ctrl+X` to boot by using the modified configuration.

4.  Wait for the system to finish booting. At the bash-5.2# prompt, remount the root (/) file system as read/write.

```bash
mount -o remount,rw /
```

5.  Change the root password to redhat.

```bash
passwd
```

6.  Configure the system to automatically perform a full SELinux relabeling after booting. This step is necessary because the passwd command recreates the `/etc/shadow` file without an SELinux context.

```bash
touch /.autorelabel
```

7.  Reboot the `servera` machine.

    The system runs an SELinux relabel operation, and then reboots automatically. Wait for the servera machine to boot.

    ```bash
    exec /sbin/init
    ```
8.  When the system is ready, verify that you can log in as the root user with redhat as the password.

```bash
root
```

9. Close the `servera` console.