# Lab: Manage Network Security

✅ **Task 1:**

On the `workstation` machine, try to access the web server at http://serverb.lab.example.com and the virtual host at http://serverb.lab.example.com:1001. The index files are provisioned for each host, but the tests currently fail.

```bash
curl http://serverb.lab.example.com
curl http://serverb.lab.example.com:1001
```

✅ **Task 2:**

On the serverb machine, check for the issues that might be preventing access to the web server.

```bash
ssh student@serverb
sudo -i

curl http://serverb.lab.example.com
curl http://serverb.lab.example.com:1001
semanage port -l |grep http

systemctl status httpd.service
systemctl enable --now httpd.service
systemctl status httpd.service

journalctl -fu httpd
semanage port -l |grep http
sealert -a /var/log/audit/audit.log
```

✅ **Task 3:**

Configure SELinux to allow the httpd service to listen on the 1001/TCP port.
```bash
semanage port -a -t http_port_t -p tcp 1001
semanage port -l | grep http
systemctl enable --now httpd.service
systemctl status httpd.service
```

✅ **Task 4:**

Open another terminal window from the `workstation` machine. Try to access the web server by using the http://serverb.lab.example.com and http://serverb.lab.example.com:1001 URLs.

```bash
curl http://serverb.lab.example.com
curl http://serverb.lab.example.com:1001
```

✅ **Task 5:**

On the serverb machine, determine whether the correct ports are added in the firewalld service.

```bash

firewall-cmd --get-default-zone
firewall-cmd --set-default-zone public
```

✅ **Task 6:**
Add the 1001/TCP port to the permanent configuration for the public network zone.

```bash
firewall-cmd --list-all
firewall-cmd --permanent --zone=public --add-port=1001/tcp
firewall-cmd --reload
firewall-cmd --zone=public --list-all
firewall-cmd --list-all
```